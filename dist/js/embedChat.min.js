/*!***************************************
 * Level Up GHL Chat Tools
 * https//levelupghl.com
 * Version: v1.0.9
 ****************************************/function p(){const e=navigator.userAgent||navigator.vendor;return[/android/i,/iphone/i,/ipad/i,/ipod/i,/blackberry/i,/windows phone/i,/opera mini/i,/iemobile/i,/mobile/i].some(t=>t.test(e))}function b(e){return(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<e}function y(e,t=0){const o=e.getBoundingClientRect().top+window.pageYOffset-t;window.scrollTo({top:o,behavior:"smooth"})}var v=Object.defineProperty,g=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,m=(e,t,o)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,O=(e,t)=>{for(var o in t||(t={}))H.call(t,o)&&m(e,o,t[o]);if(g)for(var o of g(t))C.call(t,o)&&m(e,o,t[o]);return e},f=(e,t,o)=>new Promise((a,l)=>{var d=n=>{try{i(o.next(n))}catch(r){l(r)}},c=n=>{try{i(o.throw(n))}catch(r){l(r)}},i=n=>n.done?a(n.value):Promise.resolve(n.value).then(d,c);i((o=o.apply(e,t)).next())});const L="#ghl-chat-embed",S="chat-widget",x={minHeight:650,autoScroll:!1,scrollOffset:20};function W(){return f(this,null,function*(){return new Promise(e=>{const t=o=>{e(),window.removeEventListener("LC_chatWidgetLoaded",t)};window.addEventListener("LC_chatWidgetLoaded",t,!1)})})}function _(e){const t=O({},x);if(!e)return t;try{e.minHeight&&(t.minHeight=typeof e.minHeight=="number"?e.minHeight:parseInt(e.minHeight)),e.autoScroll&&(t.autoScroll=!0,e.scrollOffset&&(t.scrollOffset=typeof e.scrollOffset=="number"?e.scrollOffset:parseInt(e.scrollOffset)))}catch(o){console.error("embedChat: invalid options, using defaults")}return t}const q=(e,t)=>f(void 0,null,function*(){var o,a,l;const d=e||L,c=_(t),i=document.querySelector(d);if(!i){console.error(`embedChat: "${d}" not found on page: unable to embed GHL chat widget`);return}if((a=(o=window.leadConnector)==null?void 0:o.chatWidget)!=null&&a.isLoaded||(yield W()),p()||b(c.minHeight))return window.leadConnector.chatWidget.openWidget();const n=document.querySelector(S),r=n==null?void 0:n.shadowRoot;if(!n||!r){console.error("embedChat: unable to find GHL chat widget on page");return}const u=r.querySelector(".lc_text-widget--btn"),s=r.querySelector(".lc_text-widget"),h=r.querySelector(".lc_text-widget--box"),w=r.querySelector(".lc_text-widget_heading--root");if(!u||!s||!h||!w){console.error("embedChat: unable to embed GHL chat widget in page: widget components not found");return}(l=n.parentElement)==null||l.removeChild(n),s.style.position="static",s.style.width="100%",h.style.maxWidth="100%",u.style.display="none",i.appendChild(n),window.leadConnector.chatWidget.openWidget(),c.autoScroll&&setTimeout(()=>{y(i,c.scrollOffset)},100)});export{q as embedChat};
//# sourceMappingURL=embedChat.min.js.map
